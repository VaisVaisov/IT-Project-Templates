# üöÄ Universal C/C++/Cython/Python Project Template

–®–∞–±–ª–æ–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –≥–∏–±—Ä–∏–¥–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
- ‚úÖ C –∏ C++
- ‚úÖ Cython (—É—Å–∫–æ—Ä–µ–Ω–∏–µ Python)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è C/C++ ‚Üí Python
- ‚úÖ –£–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏, STL, RAII
- ‚úÖ Pybind11 (–ª–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ git submodule)
- ‚úÖ –ß–∏—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: src/, include/, cython/, python/, bin/
- ‚úÖ –°–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ CMake
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ NumPy
- ‚úÖ –ì–æ—Ç–æ–≤ –∫ —É–ø–∞–∫–æ–≤–∫–µ –∏ –¥–µ–ø–ª–æ—é

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
project/
‚îú‚îÄ‚îÄ bin/                      # –ì–æ—Ç–æ–≤—ã–µ .so, .pyd, –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ lib/                  # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ/–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îú‚îÄ‚îÄ src/                      # –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ C/C++
‚îÇ   ‚îú‚îÄ‚îÄ c/                    # C-–∫–æ–¥
‚îÇ   ‚îî‚îÄ‚îÄ cpp/                  # C++-–∫–æ–¥
‚îú‚îÄ‚îÄ include/                  # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ c/
‚îÇ   ‚îî‚îÄ‚îÄ cpp/
‚îú‚îÄ‚îÄ cython/                   # Cython-–º–æ–¥—É–ª–∏ (.pyx, .pxd)
‚îú‚îÄ‚îÄ python/                   # Python-—Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ libraries/                # –í–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (pybind11)
‚îú‚îÄ‚îÄ .venv/                    # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–Ω–µ –≤ git)
‚îú‚îÄ‚îÄ CMakeLists.txt            # –°–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ CMake
‚îî‚îÄ‚îÄ README.md
```

---

## ‚öôÔ∏è –ö–∞–∫ –Ω–∞—á–∞—Ç—å

### 1. –°–æ–∑–¥–∞–π –ø—Ä–æ–µ–∫—Ç –∏–∑ —à–∞–±–ª–æ–Ω–∞

new-project MyHybridApp

> –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç new-project —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç.

---

### 2. –ê–∫—Ç–∏–≤–∏—Ä—É–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```
cd MyHybridApp
source .venv/bin/activate  # Linux/macOS
```
# –∏–ª–∏
```
.venv\Scripts\activate     # Windows

pip install numpy pybind11
```

---

### 3. –°–æ–±–µ—Ä–∏ –ø—Ä–æ–µ–∫—Ç
```
mkdir build && cd build
cmake ..
make
```
‚Üí –ë–∏–Ω–∞—Ä–Ω–∏–∫–∏ –ø–æ—è–≤—è—Ç—Å—è –≤ ../bin/.

---

### 4. –ó–∞–ø—É—Å—Ç–∏ Python-—Å–∫—Ä–∏–ø—Ç
```
python ../python/main.py
```
---

## üß© –ü—Ä–∏–º–µ—Ä: –≤—ã–∑–æ–≤ C++ –∏–∑ Python —á–µ—Ä–µ–∑ Cython

**C++:**
```
// src/cpp/math.cpp
int add(int a, int b) { return a + b; }
```

**Cython:**
```
# cython/wrapper.pyx
cpdef int call_add(int a, int b):
    return cpp_add(a, b)
```

**Python:**
```
import wrapper
print(wrapper.call_add(2, 3))  # 5
```

---

## üîß –ü–æ–¥–¥–µ—Ä–∂–∫–∞ NumPy

–ü–µ—Ä–µ–¥–∞—á–∞ –º–∞—Å—Å–∏–≤–æ–≤ –±–µ–∑ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:

```
def process_array(np.ndarray[np.int32_t, ndim=1] arr):
    cdef int* data = <int*>arr.data
    cdef int size = arr.shape[0]
    process_in_c(data, size)  # C-—Ñ—É–Ω–∫—Ü–∏—è
```

---

## üîó –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å pybind11

```
cd lib/pybind11
git pull origin master
cd ../..
git add libraries/pybind11
git commit -m "chore: update pybind11"
```

---

## üì¶ –£–ø–∞–∫–æ–≤–∫–∞ –≤ standalone-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```
pip install pyinstaller
pyinstaller --onefile --paths=bin python/main.py
```

‚Üí –°–æ–∑–¥–∞—Å—Ç dist/main ‚Äî –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –±–µ–∑ Python.

---

## üß™ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- –ò—Å–ø–æ–ª—å–∑—É–π .venv ‚Äî –Ω–µ –∑–∞—Ö–ª–∞–º–ª—è–π —Å–∏—Å—Ç–µ–º—É
- –í—Å–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ ‚Äî –≤ bin/
- –ù–µ –∫–æ–º–º–∏—Ç—å .venv/, build/, __pycache__ ‚Äî –æ–Ω–∏ –≤ .gitignore
- –î–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ ‚Äî –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π new-project <name>

---

## üôå –ê–≤—Ç–æ—Ä

–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –ø–∏—Å–∞—Ç—å –±—ã—Å—Ç—Ä–æ, –¥—É–º–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω–æ –∏ —Å—Ç—Ä–æ–∏—Ç—å –º–æ—â–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---